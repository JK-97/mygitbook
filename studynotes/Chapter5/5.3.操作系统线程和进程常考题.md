# 5.3.操作系统线程和进程常考题

**进程和线程对比**

- 进程是对运行时程序的封装，时系统资源调度的基本单位
- 线程是进程的子任务，cpu调度和分配的基本单位，实现进程内并发，并行
  - 并行是真正的多核运行
  - python由于GIL不能真正的并行，看似并发
- 一个进程都可以包含多个线程，线程依赖进程存在，并共享进程内存

**什么是线程安全**

- 一个操作可以再多线程环境中安全使用，获取正确的结果
- 线程安全的操作好比线程是顺序执行而不是并发执行的(i+=1)
- 一般如果涉及到写操作需要考虑如何让多个线程安全访问数据

**线程同步方式**

- 互踩量：通过互斥机制防止多个线程同时访问公共资源
- 信号量(Semphare):threading.Semphare(valuse = 1)控制同一时刻多个线程访问同一个资源的线程数
- 事件(信号)：通过通知的方式保持多个线程同步

**进程间通信的方式(IPC)**

- 管道/匿名管道/有名管道(pipe)
- 信号(Signal):比如用户使用Ctrl+c产生SIGINT程序终止信号
- 消息队列(Message)
- 共享内存(share memory)
- 信号量(Semaphore)
- 套接字(socket):最常用的方式，我们的web应用都是这种方式

**Python使用多线程**(python开发适用于I/O密集型的应用)

- threading.Thread类来创建线程
- start()方法启动进程
- 可以用join()等待线程结束

**Python使用多进程程**(python开发使用于计算密集型的应用)

- mltiprocessing多进程模块
- Multiprocessing.Process类实现对进程
- 避免GIL的影响