# 4.2.HTTP协议

在Web应用中，服务器把网页传给浏览器，实际上就是把网页的HTML代码发送给浏览器，让浏览器显示出来。而浏览器和服务器之间的传输协议是HTTP，所以：

- 是一种用来定义网页的文本，会HTML，就可以编写网页；
- 是在网络上传输HTML的协议，用于浏览器和服务器的通信。

> ***步骤1***：浏览器首先向服务器发送HTTP请求，请求包括：
> 方法：GET还是POST，GET仅请求资源，POST会附带用户数据；
> 路径：/full/url/path；
> 域名：由Host头指定：Host: www.sina.com.cn
> 以及其他相关的Header；
> 如果是POST，那么请求还包括一个Body，包含用户数据。
>
> ***步骤2***：服务器向浏览器返回HTTP响应，响应包括：
> 响应代码：200表示成功，3xx表示重定向，4xx表示客户端发送的请求有错误，5xx表示服务器端处理时发生了错误；
> 响应类型：由Content-Type指定；
> 以及其他相关的Header；
> 通常服务器的HTTP响应会携带内容，也就是有一个Body，包含响应的内容，网页的HTML源码就在Body中。
>
> ***步骤3***：如果浏览器还需要继续向服务器请求其他资源，比如图片，就再次发出HTTP请求，重复步骤1、2。
> Web采用的HTTP协议采用了非常简单的请求-响应模式，从而大大简化了开发。当我们编写一个页面时，我们只需要在HTTP请求中把HTML发送出去，不需要考虑如何附带图片、视频等，浏览器如果需要请求图片和视频，它会发送另一个HTTP请求，因此，一个HTTP请求只处理一个资源。

**什么是长链接？**

- 短链接： 连接请求——数据传输——断开连接
- 长连接： 保持一段时间不断开tcp连接
- 告诉他长度 conten—length

**cookies和sesion区别**

- Session 一般是服务器生成后给客户端
- Cookie 是实现session的一种机制，通过HTTP cookie字段实现
- Session 通过在服务器保存sessionid 识别用户，cookie 存储在客户端

**HTTP1.0和HTTP1.1的一些区别**

- TTP1.1则引入了更多的缓存控制策略
- 支持断点续传功能，解决了浪费资源的问题
- 请求消息和响应消息都应支持Host头

**HTTPS与HTTP的一些区别**

- HTTPS协议需要到CA申请证书，一般免费证书很少，需要交费。
- HTTP协议运行在TCP之上，所有传输的内容都是明文，HTTPS运行在SSL/TLS之上，SSL/TLS运行在TCP之上，所有传输的内容都经过加密的。
- HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
- HTTPS可以有效的防止运营商劫持，解决了防劫持的一个大问题。



**HTTP请求方法**

- 根据HTTP标准，HTTP请求可以使用多种请求方法。
- HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。
- HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。

| column0 | column1 | column2                                                      |
| ------- | ------- | ------------------------------------------------------------ |
| 序号    | 方法    | 描述                                                         |
| 1       | GET     | 请求指定的页面信息，并返回实体主体。                         |
| 2       | HEAD    | 类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头 |
| 3       | POST    | 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。 |
| 4       | PUT     | 从客户端向服务器传送的数据取代指定的文档的内容。             |
| 5       | DELETE  | 请求服务器删除指定的页面。                                   |
| 6       | CONNECT | HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。     |
| 7       | OPTIONS | 允许客户端查看服务器的性能。                                 |
| 8       | TRACE   | 回显服务器收到的请求，主要用于测试或诊断。                   |